<!DOCTYPE html>
<html>
<head>
  <title>Cinémas stéphanois</title>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <style>
    .slider-container {
      position: relative;
      width: 100%;
      max-width: 800px;
      margin: auto;
    }

    .slides {
      display: none;
    }

    .slider-image {
      width: 100%;
      height: auto;
    }

    .slider-content {
      position: absolute;
      bottom: 20px;
      left: 20px;
      color: white;
      background-color: rgba(0, 0, 0, 0.5);
      padding: 15px;
      border-radius: 5px;
    }

    /* Control Buttons */
    .w3-button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(0,0,0,0.6);
      color: white;
    }

    .w3-button:hover {
      background-color: rgba(0,0,0,0.8);
    }

    .prev {
      left: 0;
    }

    .next {
      right: 0;
    }

    /* Add animation to the slides */
    .w3-animate-fading {
      animation: fading 2s infinite;
    }

    @keyframes fading {
      from { opacity: 0.4 }
      to { opacity: 1 }
    }
  </style>
</head>
<body>

  <div class="w3-center w3-green">
    <h1>Les cinémas stéphanois vous font voyager</h1>
  </div>

<div class="slider-container w3-content w3-display-container">
  <!-- Slide 1 -->
  <div class="slides w3-animate-fading">
    <img class="slider-image" src="https://fr.web.img5.acsta.net/c_310_420/img/f5/a1/f5a1012acb73bb38b4801fe371a54227.jpg" alt="Slide 1">
    <div class="slider-content w3-display-bottomleft">
      <h2>Joker : Folie à deux</h2>
      <p>A quelques jours de son procès pour les crimes commis sous les traits du Joker, Arthur Fleck rencontre le grand amour et se trouve entraîné dans une folie à deux.</p>
      <p>21h15 - Salle 1</p>
    </div>
  </div>

    <div class="slides w3-animate-fading">
    <img class="slider-image" src="https://tse3.mm.bing.net/th?id=OIP.0LjNd06GsQ591NBrqWEFbgHaKD&pid=Api" alt="Slide 1">
    <div class="slider-content w3-display-bottomleft">
      <h2>Monsieur Aznavour</h2>
      <p>La vie fantastique d'un grand musicien arménien</p>
      <p>21h15 - Salle 2</p>
    </div>
  </div>

      <div class="slides w3-animate-fading">
    <img class="slider-image" src="https://fr.web.img3.acsta.net/c_310_420/img/cd/e7/cde74f5fc87323a9daced58b9f1ceeb0.jpg" alt="Slide 1">
    <div class="slider-content w3-display-bottomleft">
      <h2>Le Monde à l'Envers</h2>
      <p>C’est la crise, tout s’arrête : plus d’eau, plus d’électricité, plus de réseau… Stanislas, homme d’affaire parisien, perd tout y compris sa fortune. Lui qui déteste la campagne est contraint de partir se réfugier avec sa femme et son fils dans une des exploitations agricoles qu’il avait acquise dans un but spéculatif. Mais à son arrivée, il se retrouve face à Patrick et sa famille, agriculteurs exploitants des lieux, qui n’ont pas l’intention de quitter la ferme… Dans cette atmosphère chaotique où tout est inversé, nos deux familles que tout oppose parviendront-elles à cohabiter pour survivre et peut-être reconstruire ensemble un nouveau monde ?</p>
      <p>21h15 - Salle 3</p>
    </div>
  </div>

  <!-- Slide 2 -->
 
  <!-- Previous and Next buttons -->
  <button class="w3-button w3-display-left prev" onclick="plusDivs(-1)">&#10094;</button>
  <button class="w3-button w3-display-right next" onclick="plusDivs(1)">&#10095;</button>
</div>

<script>
  var slideIndex = 1;
  showDivs(slideIndex);

  function plusDivs(n) {
    showDivs(slideIndex += n);
  }

  function showDivs(n) {
    var i;
    var x = document.getElementsByClassName("slides");
    if (n > x.length) { slideIndex = 1 }
    if (n < 1) { slideIndex = x.length }
    for (i = 0; i < x.length; i++) {
      x[i].style.display = "none";
    }
    x[slideIndex - 1].style.display = "block";
  }
</script>

  <h1>Salle 1</h1>
  <div class="status" id="status"></div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const showtimes = [
        { time: "14:00", title: "Film A" },
        { time: "16:30", title: "Film B" },
        { time: "19:00", title: "Film C" },
        { time: "21:30", title: "Film D" }
      ];

      const statusElement = document.getElementById("status");

      function getMinutesUntilShow(time) {
        const [hour, minute] = time.split(":").map(Number);
        const showTime = new Date();
        showTime.setHours(hour, minute, 0, 0);

        const now = new Date();
        const differenceInMs = showTime - now;
        return Math.floor(differenceInMs / 60000); // Convertir en minutes
      }

      function updateStatus() {
        const now = new Date();
        let currentShow = null;
        let nextShow = null;

        for (let i = 0; i < showtimes.length; i++) {
          const minutesUntilShow = getMinutesUntilShow(showtimes[i].time);

          if (minutesUntilShow <= 0 && minutesUntilShow > -120) {
            currentShow = showtimes[i];
          } else if (minutesUntilShow > 0) {
            nextShow = { ...showtimes[i], minutesUntil: minutesUntilShow };
            break;
          }
        }

        if (currentShow) {
          statusElement.innerHTML = `<span class="highlight">En cours : ${currentShow.title}</span>`;
        } else if (nextShow) {
          statusElement.innerHTML = `Prochaine séance : ${nextShow.title} dans ${nextShow.minutesUntil} minutes.`;
        } else {
          statusElement.innerHTML = "Pas de prochaines séances aujourd'hui.";
        }
      }

      // Mettre à jour toutes les minutes
      updateStatus();
      setInterval(updateStatus, 60000);
    });
  </script>

</body>
</html>
